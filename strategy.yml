strategy_name: "ATR Trailing Stop Strategy"
trading_mode:
  long_enabled: True
  short_enabled: False

timeframes:
  long: { timeframe: "Days", compression: 1 }
  medium: { timeframe: "Minutes", compression: 60 }
  short: { timeframe: "Minutes", compression: 5 }

# ==============================================================================
# STRATEGY LOGIC DEFINITION
# ==============================================================================
entry_conditions:
  long: # ロングエントリー条件 (すべてANDで評価)
    # 例: 中期足のRSIが一定範囲内にあり、短期足で短期EMAが長期EMAを上抜ける
    - { timeframe: "medium", indicator: { name: "rsi", params: { period: 14 } }, compare: "between", target: { type: "values", value: [1, 99] } }
    - { timeframe: "short", type: "crossover", indicator1: { name: "ema", params: { period: 10 } }, indicator2: { name: "ema", params: { period: 25 } } }

#  short: # ショートエントリー条件 (すべてANDで評価)
#    - { timeframe: "medium", indicator: { name: "rsi", params: { period: 14 } }, compare: "between", target: { type: "values", value: [30, 70] } }
#    - { timeframe: "short", type: "crossunder", indicator1: { name: "ema", params: { period: 10 } }, indicator2: { name: "ema", params: { period: 25 } } }


exit_conditions:
  # テイクプロフィットは任意です。不要な場合はこのセクションをコメントアウトまたは削除してください。
  take_profit:
    type: "atr_multiple"
    timeframe: "short"
    params: { period: 14, multiplier: 3.0 } # 例: 利益目標をATRの3倍に設定
  
  # ATRトレーリングストップ
  trailing_stop:
    type: "atr_trailing" # 新しいタイプ
    timeframe: "short" # ATRを計算する時間足
    params: { period: 14, multiplier: 1.5 } # ATRの1.5倍でトレールする

sizing:
  # ポジションサイズは、ATRトレーリングストップの初期リスクに基づいて計算されます。
  risk_per_trade: 0.01 # 1トレードあたりのリスク(資金に対する割合)

# ==============================================================================
# INDICATOR PARAMETERS (for Web UI and Strategy Defaults)
# ==============================================================================
indicators:
  long_ema_period: 200
  medium_rsi_period: 14
  short_ema_fast: 10
  short_ema_slow: 25
  atr_period: 14
  adx:
    period: 14
  macd:
    fast_period: 12
    slow_period: 26
    signal_period: 9
  stochastic:
    period: 14
    period_dfast: 3
    period_dslow: 3
  bollinger:
    period: 20
    devfactor: 2.0
  sma:
    fast_period: 5
    slow_period: 20
  vwap:
    enabled: True
  ichimoku:
    tenkan_period: 9
    kijun_period: 26
    senkou_span_b_period: 52
    chikou_period: 26